(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{412:(e,a,t)=>{"use strict";t.d(a,{db:()=>o,j:()=>i});var l=t(3915),r=t(6203),s=t(5317);let n=(0,l.Wp)({apiKey:"AIzaSyDQYG6oeKY6Yqb-uGIighhpB9kPZOliXKI",authDomain:"friends-travel-3ea70.firebaseapp.com",projectId:"friends-travel-3ea70",storageBucket:"friends-travel-3ea70.firebasestorage.app",messagingSenderId:"435646682540",appId:"1:435646682540:web:b98cee8f8a44915a9d1609",measurementId:"G-564Y94G6RX"}),o=(0,s.aU)(n),i=(0,r.xI)(n)},1950:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var l=t(5155),r=t(2115),s=t(3989),n=t(6001),o=t(6874),i=t.n(o),c=t(5695),d=t(412),u=t(5317),x=t(6203);let h=()=>{let[e,a]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),s=(0,c.useRouter)();return{login:async(e,t)=>{a(!0);try{await (0,x.x9)(d.j,e,t),s.push("/")}catch(e){alert("Błąd logowania e-mailem i hasłem.")}finally{a(!1)}},loginWithGoogle:async()=>{l(!0);try{let e=new x.HF;e.addScope("email");let a=(await (0,x.df)(d.j,e)).user.providerData[0].email;if(!a)throw Error("Brak adresu e-mail użytkownika.");let t=(0,u.H9)(d.db,"users",a);(await (0,u.x7)(t)).exists()?console.log("już jest"):(await (0,u.BN)(t,{email:a,isLinked:!0,createdAt:new Date}),console.log("Utworzono nowego użytkownika.")),s.push("/")}catch(e){console.error("Błąd logowania Google:",e)}finally{l(!1)}},loading:e,googleLoading:t}},p=()=>{let[e,a]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),{login:c,loading:d}=h(),u=async()=>{await c(e,t)};return(0,l.jsx)("div",{className:"flex flex-col lg:flex-row gap-16 items-center justify-center px-24 py-20 h-full",children:(0,l.jsxs)("div",{className:"border rounded-xl p-4 flex flex-col gap-2 w-[400]",children:[(0,l.jsx)("h2",{className:"text-green-600 text-4xl flex-1 font-bold",children:"Log in"}),(0,l.jsxs)("div",{className:"text-black flex items-center",children:[(0,l.jsx)("h4",{children:"Don't have account?"}),(0,l.jsx)(i(),{className:"px-1 text-blue-500 hover:text-blue-700",href:"/register",children:"Create now!"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(n.p,{placeholder:"Email",value:e,onChange:e=>a(e.target.value)}),(0,l.jsx)(n.p,{placeholder:"Password",type:"password",value:t,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u()}}),(0,l.jsx)(s.$,{onClick:u,disabled:d,children:d?"Logging in...":"Login"})]})]})})}},3989:(e,a,t)=>{"use strict";t.d(a,{$:()=>i});var l=t(5594),r=t(376),s=t(7414),n=t(5155),o=t(9688);let i=e=>{var{children:a,className:t,variant:i="default"}=e,c=(0,s._)(e,["children","className","variant"]);return(0,n.jsx)("button",(0,r._)((0,l._)({},c),{className:(0,o.QP)("".concat("px-4 py-2 rounded"," ").concat({default:"bg-blue-500 text-white hover:bg-blue-600",text:"text-blue-500 hover:underline"}[i]," ").concat(t)),children:a}))}},6001:(e,a,t)=>{"use strict";t.d(a,{p:()=>o});var l=t(5594),r=t(376),s=t(7414),n=t(5155);let o=e=>{var{value:a,onChange:t,className:o}=e,i=(0,s._)(e,["value","onChange","className"]);return(0,n.jsx)("input",(0,r._)((0,l._)({},i),{value:a,onChange:t,className:"border text-black rounded px-3 py-2 ".concat(null!=o?o:""," focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent")}))}},8551:(e,a,t)=>{Promise.resolve().then(t.bind(t,1950))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,163,75,807,874,441,684,358],()=>a(8551)),_N_E=e.O()}]);